## Введення у Node.js

Node.js — програма, яка дозволяє запускати javascript-сценарії в оточенні операційної системи, а не в оточенні браузера

### Середа виконання Node.js

-   Віртуальна машина V8
    -   Читає та перевіряє JavaScript код
    -   Виконує JavaScript код
-   Модулі доступу до файлової системи
    -   Читання/запис/видалення файлів
    -   Робота з мережею та мережевими пристроями
    -   Надання доступу до операційної системи

### Ключові особливості

-   Асинхронність замість паралельності
-   Горизонтальне масштабування проти вертикального
-   Вбудований пакетний менеджер (NPM)
-   Легкість (1 процес, 1.5GB RAM)
-   Немає браузерного API (BOM)
-   Усі скрипти за замовчуванням є CommonJS модулями
-   Виконати можна рівно один файл — цей файл називається точкою входу (зазвичай index.js)
-   Відмінність роботи програми на Node.js полягає в тому, що якщо всі операції закінчено, то робота Node.js припиниться
-   REPL (Read-Eval-Print Loop) — інтерактивне середовище
    розробки, що дозволяє вводити команди та
    конструкції мови і відразу їх виконувати

### Базові можливості

-   Усі конструкції мови ECMA2015+
-   Всі глобальні вбудовані об'єкти:
    -   Рядки, числа, примітиви, базові об'єкти
    -   Вбудовані бібліотеки: Math, Intl, Reflect
    -   Promise
    -   JSON

### Додаткові можливості

-   Робота з файловою системою
-   Робота з мережею: socket, HTTP/HTTP2, UDP
-   Робота з потоками: stream

### Глобальні змінні

-   Об'єкт для роботи з консоллю — console
-   Глобальна область видимості — global
-   Інформація про поточний модуль — module
-   Інформація про поточний процес — process
-   Допоміжні об'єкти: require, **dirname, **filename, exports
-   Інше — Buffer

### libuv

-   Надає крос-платформний прошарок між API Node.js та ОС
-   Створює універсальний інтерфейс для асинхронної роботи з файловою системою
-   Надає єдиний універсальний інтерфейс для роботи зі стеком TCP
-   Ізолює роботу потоків в ОС від синхронного коду Node.js

### Можливості libuv

-   Операції поділяються на синхронні та асинхронні
-   Файли можна читати/змінювати/вилучати/копіювати/змінювати доступ тощо.
-   На різних операційних системах можуть бути недоступні ті чи інші можливості
-   Потрібно враховувати асинхронну природу роботи з файлами
-   Вміст файлу можна отримати як рядок або буфер

Buffer — структура даних, що зберігає блок "чистих" (необроблених) даних. Поводиться так як масив із зафіксованою довжиною, тобто, розмір одного разу створеного буфера ніколи не змінюється
