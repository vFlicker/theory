# WebSockets

WebSocket — це протокол комунікації між клієнтом і сервером, який дозволяє встановити постійне двостороннє з'єднання (також відоме як "тунель") через одне TCP-з'єднання. Однією з важливих особливостей WebSocket є те, що воно дозволяє обидвій сторонам ініціювати обмін даними у будь-який момент, надсилаючи повідомлення без необхідності постійно створювати нові HTTP-запити.

WebSocket є корисним для сценаріїв, де потрібно встановити постійне з'єднання для обміну реальними часами даними, такими як чати, онлайн-ігри, онлайн-трансляції тощо.

## Принцип роботи

1. Встановлення з'єднання — клієнт ініціює з'єднання WebSocket, включаючи заголовок `Upgrade: websocket` в HTTP-запиті. Це може бути виконано за допомогою URL-адреси, що починається з `ws://` або `wss://` для захищеного з'єднання.
2. «Рукостискання» (Handshake) — якщо сервер підтримує WebSocket, він відповідає кодом статусу 101 «Перемикання протоколу» та включає заголовок `Connection: Upgrade` та `Upgrade: websocket` у своїй відповіді. Це підтверджує зміну протоколу на WebSocket.
3. З'єднання встановлено — після рукостискання з'єднання WebSocket встановлено і готове для обміну даними.
4. Обмін даними — тепер і клієнт, і сервер можуть надсилати повідомлення один одному у вигляді даних у бінарному або текстовому форматі. Цей обмін даними відбувається в реальному часі без необхідності створювати нові HTTP-запити для кожного повідомлення.
5. Закриття з'єднання — клієнт або сервер можуть ініціювати закриття WebSocket-з'єднання, надсилаючи відповідне повідомлення. Після закриття з'єднання воно більше не може бути використано.
