# Axios

Axios — це бібліотека для здійснення мережевих запитів, яка надає зручний інтерфейс та додаткові корисні можливості.

-   Відображення прогресу завантаження — Axios дозволяє відслідковувати прогрес завантаження запитів, що дає можливість візуалізувати прогрес в інтерфейсі користувача.
-   Автоматична трансформація відповіді у JSON — Axios автоматично перетворює отримані дані в форматі JSON, що спрощує роботу з отриманими даними.
-   Зручний інтерфейс для написання мережевих запитів — Axios надає простий і зрозумілий синтаксис для створення різних типів запитів (GET, POST, PUT, DELETE та інші).
-   Обробка помилок — Axios автоматично визначає будь-які запити зі статусами відмінними від 200-299 як помилкові, спрощуючи обробку помилок.
-   Перехоплювачі запитів (middleware) — Axios надає можливість встановлювати перехоплювачі запитів, що дозволяє обробляти запити перед їх відправкою або після отримання відповіді, наприклад, для логування помилок сервера.
-   Mock-запити — Axios дозволяє створювати mock-запити для зручного тестування без залежності від реального сервера.
-   Просте конфігурування — Axios не вимагає складного конфігурування і може бути швидко впроваджений у проект.

```js
import axios from "axios";

const URL_API = "https://jsonplaceholder.typicode.com/posts";

const newPost = {
    title: "foo",
    body: "bar",
    userId: 1,
};

axios
    .post(URL_API, newPost, { timeout: 1000 })
    .then((response) => {
        console.log(`Status code ${response.status}`);
        console.log(response.data);
    })
    .catch((err) => {
        console.log(`Error: ${err.message}`);
    });
```

## withCredentials

`withCredentials: true` — це параметр, який вказує, що при виконанні запиту Axios повинен включити cookie в запит, якщо ви вже авторизовані на сервері, до якого робиться запит. Це дозволяє зберігати авторизацію між запитами, якщо сервер встановлює cookie.

## Перехоплювачі (Interceptors)

Перехоплювачі дозволяють обробляти запити або відповіді перед їх надсиланням або після отримання. Нижче наведено приклад використання перехоплювача для обробки помилок сервера:

```js
axios.interceptors.response.use(
    (response) => response,
    (error) => Promise.reject(error)
);
```

Цей перехоплювач буде викликано, коли отримано відповідь з будь-яким статусом, що не належить до діапазону 2xx. Він дозволяє обробити помилки сервера або виконати інші дії в разі невдалого запиту.
