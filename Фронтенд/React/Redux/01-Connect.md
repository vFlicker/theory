# connect

`connect` є компонентом вищого порядку (Higher Order Component), який встановлює зв'язок між логікою програми та сховищем (store), передаючи значення зі store в компонент. Він створює нову версію компонента, пов'язану зі змінами стану в сховищі. Початкову версію компонента можна використовувати повторно для інших завдань або для тестування.

## mapStateToProps

`mapStateToProps` є першим аргументом для функції `connect`. Цей метод перетворює стан Redux в `props` компонента. Кожного разу, коли стан сховища змінюється, метод `mapStateToProps` оновлює `props` компонента. Він також приймає `ownProps` — властивості компонента, які були передані зверху від інших компонентів.

## mapDispatchToProps

`mapDispatchToProps` є другим аргументом для функції `connect` і може бути об'єктом або функцією. Цей метод дозволяє компоненту оновлювати стан сховища. Він приймає два аргументи — `dispatch` та `ownProps`. `dispatch` — це функція, яка дозволяє відправляти дії (actions) до сховища. Функції, створені за допомогою `mapDispatchToProps`, передаються до компонента, що дозволяє йому оновлювати стан у сховищі.

## Перемальовка (Rerender)

`mapStateToProps` та `mapDispatchToProps` спрацьовують при кожному рендерингу, але компонент не перемальовується, якщо `mapStateToProps` повертає об'єкт з тими самими значеннями стану. Наприклад:

```jsx
const mapStateToProps = (state) => ({
    // Компонент не буде перемальовуватись, якщо стан не змінився
    users: state.usersPage.users, // usersPage має те саме посилання
    pageSize: state.usersPage.pageSize, // usersPage має те саме посилання
});
```

Компонент connect допомагає забезпечити ефективну перерендеринг компонентів, оновлюючи їх лише при зміні стану, що впливає на їх props.
