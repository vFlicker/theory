## Що робить браузер для завантаження веб-сторінки

1. Користувач вводить адресу сайту в браузері
2. Браузер отримав вашу адресу
3. Після того, як браузер зробив розбір адреси, він бере хост, на основі якого він має отримати IP. Для того, щоб це зробити, потрібно зробити resolve доменного ім'я в ip-адресу, для цього використовується DNS. Якщо раніше адреса вже використовувалася, то запит до DNS вже не робиться, він береться із local cache
4. Браузер встановлює з'єднання із сервером. У більшості випадків для цього використовується спеціальний протокол TCP. Наприклад, для встановлення з'єднання між браузером та сервером у стардарті TCP використовується система "трьох рукостискань"
    1. Пристрій користувача надсилає спеціальний запит на встановлення з'єднання з сервером — називається SYN-пакет
    2. Сервер у відповідь надсилає запит із підтвердженням отримання SYN-пакета — називається SYN/ACK-пакет
    3. Наприкінці пристрій користувача під час отримання SYN/ACK-пакета відправляє пакет з підтвердженням — ACK-пакет. У цей момент з'єднання вважається встановленим
5. Якщо ми використовуємо HTTPS, відбувається обмін сертифікатами, перевірка справжності сертифікатів, обмін побічними ключами. Після встановлення з'єднання ми переходимо до HTTP частини і формуємо заголовок. Браузер відправляє запит HTTP, щоб отримати контент сайту

```
- Trying 35.157.19.194...
- TCP_NODELAY set
- Connected to code-basics.ru (35.157.19.194) port 80

> GET/HTTP/1.1
> Host: code-basics.ru
> Connection: close

< HTTP/1.1 200 OK
< Content-Type: text/html; charset=utf-8
< Date: Sun, 07 Jan 2018 14:19:00 GMT
< Content-Length: 5123
< Connection: keep-alive
< server: Cowboy
< cache-control: max-age=0, private, must-revalidate
< Connection: close

- Connection #0 до host code-basics.ru left intact
```

6. Сервер отримує запит від браузера з детальним описом, що йому потрібно. Тепер йому потрібно опрацювати цей запит. Цим завданням займається спеціальне серверне програмне забезпечення - наприклад, nginx або Apache. Найчастіше такі програми прийнято називати веб-серверами. Веб-сервер у свою чергу перенаправляє запит на подальшу обробку до програми-оброблювача - наприклад, PHP, Ruby або ASP.NET. Програма уважно вивчає вміст запиту ASP.NET - наприклад, розуміє у якому форматі потрібно надіслати відповідь та які саме файли потрібні. І збирає відповідь
7. Коли відповідь сформована, вона надсилається веб-сервером назад браузеру. У відповіді зазвичай міститься контент для відображення веб-сторінки інформація про тип стиснення даних, способи кешування, файли cookie, які потрібно записати і таке інше
8. Браузер відпрацьовує отриману відповідь. Починає парсинг HTML, створює DOM та CCSOM
9. Далі на основі розпареної інформації формується рендеринг (відображення веб-сторінки)

### Посилання

<a href="https://proglib.io/p/dns-basic">Основи DNS</a>

<a href="https://habr.com/ru/post/215117/">Простою мовою про HTTP</a>

<a href="https://habr.com/ru/post/308846/">Шлях до HTTP/2</a>

<a href="https://ru.hexlet.io/blog/posts/http-3-proshloe-nastoyaschee-i-buduschee">HTTP/3</a>
