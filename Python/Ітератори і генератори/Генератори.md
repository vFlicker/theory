# Генератори

Генератори — це спеціальний вид ітераторів, які створюються за допомогою функцій з ключовим словом `yield`. Вони дозволяють генерувати значення на льоту та ефективно працювати з великими об'ємами даних, не завантажуючи їх повністю в пам'ять. Генератори є потужним та зручним інструментом для роботи з послідовностями.

## Основні переваги генераторів

-   Ефективність пам'яті: Генератори не зберігають всі значення у пам'яті одразу, що дозволяє працювати з великими обсягами даних.
-   Ліниве обчислення: Генератори генерують значення тільки при потребі, що зменшує навантаження на пам'ять та покращує продуктивність програми.
-   Простота використання: Створення генераторів за допомогою ключового слова `yield` дозволяє швидко та легко генерувати значення.
-   Створення ітераторів «на льоту»: Ви можете створювати ітератори без необхідності окремого класу з методами `__iter__` та `__next__`.

## Створення генераторів

Генератори можна створювати за допомогою функцій, які містять ключове слово `yield` замість `return`. При кожному виклику генератора функція виконується до першого виклику `yield`, після чого виконання функції призупиняється, а значення передається назад користувачу. При наступному виклику `next()`, генератор продовжує виконання з наступного рядка після `yield`, і результат наступного `yield` повертається.

```py
def fibonacci(number):
    first, second = 0, 1

    for _ in range(number):
        yield second
        first, second = second, first + second


for i in fibonacci(4):
    print(i)

print(list(fibonacci(4)))
```

## Обмеження генераторів

-   Генератори не можуть бути використані повторно. Після того, як генератор вичерпає всі значення, повторний виклик `next()` призведе до виникнення винятку `StopIteration`.
-   Генератори не можуть бути індексовані, як списки чи кортежі, тому що генерують елементи на льоту.

## Вбудовані функції для роботи з генераторами

```py
# Генератор map()
result = map(lambda x: x**2, [1, 2, 3, 4, 5])
for value in result:
    print(value)

# Генератор filter()
result = filter(lambda x: x % 2 == 0, [1, 2, 3, 4, 5])
for value in result:
    print(value)
```
