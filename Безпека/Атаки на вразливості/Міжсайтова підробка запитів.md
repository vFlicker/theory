# Міжсайтова підробка запитів

Міжсайтова підробка запитів (Cross-Site Request Forgery, CSRF) — це атака, при якій зловмисник використовує авторизацію користувача без його дозволу, виконуючи дії в ім'я користувача без його відома.

## Принцип роботи

1. Створення підробленого запиту: зловмисник створює спеціальну підроблену сторінку або вставляє зловмисний код на веб-сайт.
2. Відвідування користувачем: користувач, авторизований на веб-сайті, відвідує підроблену сторінку або спостерігає зловмисний код.
3. Виконання запитів: зловмисний код виконує певні запити до веб-сайту від імені користувача, використовуючи його авторизацію.
4. Непомітне виконання: веб-сайт отримує ці запити і виконує їх, не перевіряючи, чи це запити користувача.

## Захист від атаки CSRF

- Використання токенів безпеки (CSRF-токени): перевіряйте токени на сервері для кожного запиту.
- HTTP-заголовки `SameSite` для Cookies: обмежуйте доступ до cookies в сторонніх джерелах, використовуючи HTTP-заголовки.
- Налаштування CORS (Cross-Origin Resource Sharing): правильно налаштуйте CORS для вашого веб-сайту.

## Приклад застосування

Розглянемо сценарій, де зловмисник намагається виконати переказ грошей через підроблену сторінку. За допомогою HTML та JavaScript він може намагатися надсилати запити POST без відома користувача.

```html
<body onload="document.forms[0].submit()">
  <form action="https://yourbank.com/transfer" method="post">
    <input type="hidden" name="to" value="brian" />
    <input type="hidden" name="amt" value="2800" />
    <input type="submit" value="Click Here!" />
  </form>
</body>
```

Цей код спробує автоматично відправити запит на переказ грошей, якщо користувач відвідає сторінку з цим кодом.
