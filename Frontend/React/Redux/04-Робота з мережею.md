## Робота з мережею

Дані в React-Redux додатку приходять не з серверу, а з де-якої прокладки BLL (business logic layer)

### API-клієнт

-   Код, який працює з мережею, краще ізолювати в окремий клас-сервіс
-   Компоненти не повинні знати, звідки саме беруться дані
-   Такий підхід спростить тестування та підтримку коду, що працює з API

### Логіка індикатора завантаження

-   Додати поле loading до Redux state
-   Оновлювати це поле в reducer, коли дані стануть доступними
-   Передати значення loading в компонент
-   Залежно від стану loading, рендерити індикатор завантаження або вміст компонента (вже з даними)

### Обробка помилок

-   Помилка отриманих даних, потрібно зберегти в store, потім компонент зможе її відобразити

### Асинхронність

Будь-які запити до мережі не повертають результат миттєво, тому Action не може повернути дані миттєво – потрібно додати якийсь проміжний стан

-   React нічого не знає про роботу з сервером — це завдання інших бібліотек
-   Мережний код слід ізолювати від коду компонентів
-   Якщо необхідно, трансформуйте дані до того, як їх отримає компонент
-   Хороша програма не відображає елементи для яких немає даних
-   Обробляйте стан «завантаження» та «помилка»
-   Розділяйте відповідальність компонентів — логіку та рендеринг
-   Функція, може інкапсулювати отримання даних (тоді компонент стає незалежною від джерела даних)

### Redux Thunk

Пакет redux-thunk — це middleware. З його допомогою ми розширюємо функціональність Redux, отримуючи можливість робити dispatch (надсилати) не тільки об'єкти, що описують дії, а й функції. Такі функції приймають dispatch і getState, у них ми можемо розмістити код із побічними ефектами
