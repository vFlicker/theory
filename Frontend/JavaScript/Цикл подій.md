## Event loop

Event loop (цикл подій) — вирішує одне основне задача — спостерігає за стеком викликів та чергою коллбеків. Якщо стек викликів порожній, цикл бере першу подію з черги і поміщає їх у стек, що призводить до запуску цієї події на виконання. Подібна ітерація називається тіком циклу подій. Кожна подія це просто колбек

### Macrotasks (макрозадачі)

-   Завантаження скрипту
-   Події браузеру (click, mousemove, setTimeout).
-   Рендеринг

Після кожної макрозадачі движок виконує всі задачі з черги мікрозадач перед тим, як виконати наступну макрозадачу або відобразити зміни на сторінці

### Microtasks (мікрозадачі)

-   Promise

Коли `Promise` виконано, його обробники `then/catch/finally` потрапляють у чергу. Вони поки не виконуються. V8 (движок JavaScript) бере задача з черги і виконує його, після того, я він звільниться від виконання поточного коду

### Алгоритм роботи Event loop

1. Вибрати та виконати найстарішу задачу із черги макрозадач (наприклад, «script»)
2. Виконувати всі мікрозадачі (поки черга мікрозадач не порожня — вибрати з черги і виконати найстарішу мікрозадачу)
3. Відобразити зміни сторінки, якщо вони є
4. Якщо черга макрозадач порожня — почекати, доки з'явиться макрозадача
5. Перейти до кроку 1
