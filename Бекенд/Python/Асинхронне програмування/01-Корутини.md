# Корутини

Корутина — це функція, яка може бути призупинена під час виконання, щоб дозволити виконання інших задач, і потім відновлена з того ж місця. Це дозволяє ефективно виконувати асинхронні операції, такі як введення-виведення, не блокуючи основний потік виконання. Корутину можна визначити за допомогою виразу `async def`. Виклик такої функції створює об'єкт корутини.

## Об'єкт корутини

Об'єкт корутини — це спеціальний об'єкт, який представляє асинхронну операцію і може бути очікуваний (`await`) або запущений у контексті подійного циклу (наприклад, за допомогою `asyncio`). Об'єкти корутин мають кілька методів та властивостей для керування їхнім станом:

-   `.send(value)`: Відновлює виконання та передає значення в корутину.
-   `.throw(exc_type, exc_value=None, traceback=None)`: Зупиняє виконання корутини і викликає виключення в її контексті.
-   `.close()`: Завершує корутину.

## Стани корутин

-   Pending (очікування): Створена, але ще не запущена.
-   Running (виконання): Активно виконується.
-   Suspended (призупинено): Тимчасово призупинена (наприклад, очікує I/O).
-   Completed (завершено): Успішно завершена.
-   Failed (не вдалося): Завершена з помилкою.

## Приклад використання

```py
import asyncio
import aiohttp

async def fetch_data():
    try:
        async with aiohttp.ClientSession() as session:
            async with session.get('https://api.example.com/data') as response:
                data = await response.json()
                print(data)
    except Exception as e:
        print(f'Error fetching data: {e}')

async def main():
    await fetch_data()

asyncio.run(main())
```
