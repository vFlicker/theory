# Асинхронні ітератори

Асинхронний ітератор — це об'єкт, який дозволяє асинхронно перебирати послідовності даних. Він особливо корисний, коли потрібно ітерувати через дані, які отримуються асинхронно (наприклад, з мережі або бази даних).

## Основні переваги асинхронних ітераторів

-   Асинхронність: Дозволяють ефективно працювати з асинхронними джерелами даних без блокування основного потоку.
-   Ефективне оброблення I/O: Ідеальні для обробки асинхронних операцій введення/виведення, таких як читання даних з мережі або файлів, де затримки можуть бути значними.

## Створення асинхронноих ітераторів

Асинхронні ітератори реалізують два основні методи:

-   `__aiter__()`: Повертає асинхронний ітератор.
-   `__anext__()`: Повертає `awaitable` об'єкт або викликає виключення StopAsyncIteration, коли дані закінчуються.

## Приклад асинхронного ітератора

```py
import asyncio

class AsyncCounter:
    def __init__(self, max_count):
        self.max_count = max_count
        self.count = 0

    async def __aiter__(self):
        return self

    async def __anext__(self):
        if self.count >= self.max_count:
            raise StopAsyncIteration
        self.count += 1
        await asyncio.sleep(1)
        return self.count

async def main():
    async for number in AsyncCounter(5):
        print(number)

asyncio.run(main())
```

## Використання асинхронних ітераторів

Асинхронні ітератори використовуються в контексті асинхронного коду, зокрема в асинхронних функціях та методах. Вони забезпечують ефективний спосіб роботи з асинхронними потоками даних без блокування виконання програми.

```py
import asyncio

async def async_main():
    async for item in some_async_iterator():
        process(item)

asyncio.run(async_main())
```

В цьому прикладі `some_async_iterator()` представляє асинхронний ітератор, а `process(item)` — асинхронну функцію для обробки кожного елемента.
