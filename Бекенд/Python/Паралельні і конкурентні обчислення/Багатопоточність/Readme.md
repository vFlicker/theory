# Багатопоточність

Багатопоточність (Multithreading) — це парадигма програмування, що дозволяє виконувати кілька потоків (threads) в рамках одного процесу. Потік — це найменша одиниця виконання, яка має свій власний потік управління, але використовує спільний простір пам'яті з іншими потоками того ж процесу. Багатопоточність дозволяє програмам виконувати кілька задач одночасно, що є корисним для задач, які залежать від часу очікування, таких як операції вводу/виводу.

## Особливості багатопоточності

-   Потоки ділять між собою спільну пам'ять процесу, що дозволяє швидкий доступ до спільних даних.
-   Через наявність GIL (Global Interpreter Lock) в Python, багатопоточність ефективна для I/O-залежних задач, але не для CPU-залежних.

## Переваги багатопоточності

-   Швидший доступ до спільної пам'яті: Потоки можуть швидко обмінюватись даними, оскільки працюють у спільному просторі пам'яті процесу.
-   Покращення відгуку програм: Для програм, що взаємодіють з користувачем (наприклад, графічні інтерфейси), багатопоточність дозволяє виконувати фонові задачі, не блокуючи основний потік.
-   Ефективне виконання I/O операцій: Багатопоточність може підвищити продуктивність програм, що мають багато операцій вводу-виводу, оскільки такі операції не потребують великого процесорного часу і можуть виконуватися паралельно з іншими задачами.

## Недоліки багатопоточності

-   GIL обмежує паралелізм: Через GIL багатопоточність в Python не дає значного приросту продуктивності для задач, що потребують інтенсивних обчислень.
-   Необхідність синхронізації: Потоки можуть змагатися за доступ до спільних ресурсів, що може призвести до непередбачуваних результатів або збоїв у роботі програми. Для цього потрібно використовувати механізми синхронізації, такі як блокування (Lock).
-   Складність дебагінгу: Багатопотокові програми можуть бути важчими для налагодження, оскільки багатопоточність додає складнощі через можливі умови гонки (race conditions) та інші проблеми синхронізації.

## Механізми синхронізації в багатопоточності

Коли декілька потоків працюють із спільними ресурсами, необхідно використовувати механізми синхронізації для запобігання можливим конфліктам. В Python існують кілька таких механізмів:

-   Lock (блокування): Простий механізм для управління доступом до спільних ресурсів. Потік може захопити блокування перед доступом до ресурсу і звільнити його після закінчення роботи.
-   RLock (рекурсивне блокування): Розширення механізму Lock, яке дозволяє одному потоку кілька разів захоплювати блокування, що зручно для рекурсивних функцій.
-   Semaphore (семафор): Дозволяє обмежувати кількість потоків, які можуть одночасно виконувати певну операцію.
-   Event (події): Використовується для сигналізації між потоками.
-   Condition (умова): Складний механізм синхронізації, що дозволяє потокам чекати на виконання певних умов.
