## Nest.js

### Теорія

**Dependency injection** (ін'єкція залежності) — це шаблон проектування, за яким об'єкт або функція отримує інші об'єкти чи функції, від яких вони залежать. Наприклад, коли ми будемо тестувати наш додаток, нам буде легко підмінити нашу БД з «in memory DB», просто потрібно дотримуватись контрактів (реалізувати UserStore interface).

**Controllers** (контролери) — відповідають за обробку вхідних запитів і повернення відповідей клієнту. Більш складні завдання контролери повинні делегувати **providers**

**Providers** (постачальники) — це звичайні класи JavaScript, які оголошуються як провайдери в модулі. Багато базових класів Nest можна розглядати як постачальники:

-   Services (служби)
-   Repositories (репозиторії)
-   Factories (фабрики)
-   Helpers (помічники)
-   Middleware (проміжне програмне забезпечення)
-   Guards (охоронці)

**Services** (служби) — відповідають за зберігання та пошук даних і призначені для використання Controller

**Entities** (сутність) — це клас, який мапиться на таблицю бази даних (або колекцію при використанні MongoDB). Ви можете створити сутність, визначивши новий клас і позначивши його за допомогою @Entity(). Базові сутності складаються зі стовпців і відносин. Кожна сутність ПОВИННА мати основний стовпець (або стовпець ObjectId, якщо використовується MongoDB).

**Module** (модуль) — це клас, анотований декоратором @Module(). Декоратор @Module() надає метадані, які Nest використовує для організації структури програми. Декоратор @Module() приймає один об'єкт, властивості якого описують модуль:

-   **providers** — постачальники, екземпляри яких буде створено інжектором Nest і які можуть спільно використовуватися принаймні в цьому модулі

-   **controllers** — набір контролерів, визначених у цьому модулі, які мають бути створені

-   **imports** — список імпортованих модулів, які експортують постачальників, які потрібні цьому модулю. Ви можете розглядати експортовані провайдери з модуля як публічний інтерфейс модуля або API.

-   **exports** — підмножина постачальників, які надаються цим модулем і повинні бути доступні в інших модулях, які імпортують цей модуль

### Корисні команди

-   npx @nestjs/cli new project_name — новий проект
-   npx @nestjs/cli g resource users — створити директорію з файлами
-   npx @nestjs/cli generate service/controller/service users — створити директорію з файлами
