# Microservices

## Масштабування

Вертикальне — збільшення продуктивності кожного компонента системи з метою підвищення загальної продуктивності

Горизонтальне — розбиття системи на дрібніші структурні компоненти та рознесення їх за окремими фізичними машинами (або їх групами), та (або) збільшення кількості серверів, паралельно виконуючих ту саму

-   Витрачається рівно стільки ресурсів, скільки необхідно в даний момент
-   Підвищується загальна стійкість до відмови системи
-   Доступність 24/7

Першочергова умова для успішного горизонтального масштабування — позбутися стану у пам'яті

## Кластер

Об'єднання кількох однорідних елементів, яке може розглядатися як самостійна одиниця, що володіє певними властивостями

## Модуль cluster

Вбудований модуль дозволяє виносити трудомісткі обчислення в окремий процес, а також вручну організовувати кластер

## Кеш

Проміжний буфер зі швидким доступом, містить інформацію, яка може бути запитана з найбільшою ймовірністю

## Стан

Набір стійких значень змінних параметрів системи

## Де зберігається стани

-   У базі даних — такий стан можна передавати між різними серверами/сервісами та зберігати його невизначено довгий час
-   У кеші — такий стан можна передавати між різними серверами/сервісами та зберігати/змінювати та оновлювати його можна оперативно
-   На жорсткому диску — такий стан можна передавати між процесами однієї машини
-   У пам'яті — такий стан належить лише одному процесу і передати його не можна

## Message Queue (черга повідомлень)

Програмно-інженерний компонент, що використовується для міжпроцесної або міжпоточної взаємодії усередині одного процесу. Для обміну повідомленнями використовується черга

## Message Broker (брокер повідомлень)

-   Redis
-   RabbitMQ
-   Apache ActiveMQ

## Методологію дванадцяти факторів

-   Застосунок та налаштування лежать в одному репозиторії
-   Залежності завжди зафіксовані
-   Налаштування передаються як змінні оточення середовища
-   Усі послуги є рівноправними учасниками кластера
-   Складання та реліз завжди пов'язані
-   Горизонтальне масштабування за будовою
-   Застосунок не має свого внутрішнього стану

## Література

<a href="https://12factor.net/">The Twelve Factors</a>
