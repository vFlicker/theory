# Model View Controller (модель вид контролер)

Використовується для розробки інтерфейсів користувача, які розділяють відповідну програмну логіку на три взаємопов'язані елементи. Це робиться для того, щоб відокремити внутрішнє представлення інформації від того, як інформація подається та приймається користувачем

-   Model (модель) — дані (сховище бізнес-логіки зав'язаної на перетворенні даних). Модель предметної області описана за допомогою ORM (хоча це не обов'язково, сховище — річ окрема від моделі). Моделі — в ідеалі є чистою бізнес-логікою. Модель не знає нічого про інші частини застосунока і не може на них впливати
-   View (вид) — компоненти, описують представлення конкретної сторінки та будується на основі даних, переданих з controller (функції-оброблювача)
-   Controller (контролер) — поведінка (сховище бізнес-логіки зав'язаної на поведінці). Контролер звертається до моделі для виконання запитуваних операцій та виводить необхідні дані у шаблон. Відповідний за отримання, інтерпретацію та валідацію інформації, створення та оновлення views, запити до моделі та її зміна

## Ієрархія MVC

-   Model
    -   Плоска структура — всі моделі знаходяться на одному рівні
    -   Ієрархічна структура — існують моделі вкладені в інші моделі. Як правило, батьківськими моделями є «колекції», для роботи з великим кількістю записів (приклад — Backbone.js)
-   View
    -   Плоска структура View — всі View ініціалізуються в одному контролері та взаємодіють безпосередньо з ним
    -   Ієрархічні View — одні View додаються всередину інших View і самостійно вибудовують свою ієрархію. Батьківські View можуть передплатити події дочірніх та інтерпретувати їх по-своєму
-   Controller
    -   Мега-контролер — один великий контролер на весь застосунок (або на кожен екран), який повністю описує всю бізнес-логіку
    -   HMVC — система, в якій є безліч вкладених один в одного контролерів, які виступають як абстракції для вищих рівнів (контролер списку контролер елемента)

## Види MV\*

-   MVC
    -   Model — працює лише з даними. Керує відображенням
    -   View — відповідає строго за відображення. Слабко пов'язаний компонент
    -   Controller — створює модель та відображення та знайомить їх між собою, далі модель та відображення спілкуються безпосередньо
-   MVP
    -   Model — працює лише з даними. Слабко пов'язаний компонент
    -   View — відповідає строго за відображення. Слабко пов'язаний компонент
    -   Presenter — створює модель та відображення, після чого відповідає за зв'язування їх між собою. Підписується на зміни моделі та відображення, слухає зміни у кожному з них і викликає оновлення
-   MVVM
    -   Model — працює лише з даними
    -   View — відповідає строго за відображення
    -   ViewModel — отримує модель та відображення після чого зв'язує їх через біндінг, завдяки якому стан моделі та відображення синхронізується автоматично

## Ввід користувача у MV\*

-   MVC
    -   Користувач взаємодіє з відображенням
    -   Відображення повідомляє контролеру про дію користувача
    -   Контролер викликає зміну моделі
    -   Модель оновлює відображення через підписку
-   MVP
    -   Користувач взаємодіє з відображенням
    -   Відображення повідомляє перезнтер про дію користувача
    -   Перезнтер запускає логіку оновлення моделі
    -   Модель повідомляє перезнтер
    -   Перезнтер оновлює відображення
-   MVVM
    -   Користувач взаємодіє з відображенням
    -   Відображенням оновлює модель через зв'язок описаний у ViewModel

## Завантаження у MV\*

-   MVC
    -   Контролер викликає оновлення моделі
    -   Модель завантажує дані та сповіщає відображення про свої зміни
-   MVP
    -   Перезнтер запускає логіку оновлення моделі
    -   Модель повідомляє перезнтер
    -   Перезнтер оновлює відображення
-   MVVM
    -   Модель після завантаження синхронізується з відображенням через біндінг, описаний у ViewModel
