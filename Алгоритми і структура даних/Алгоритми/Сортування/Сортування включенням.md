# Сортування включенням (Insertion Sort)

Сортування включенням — це простий алгоритм сортування, який працює шляхом послідовного включення кожного елемента масиву в відсортовану частину масиву зліва. Є одним з небагатьох сортувань, яке може з невеликою складністю підтримати будь-який список сортування.

## Алгоритм реалізації

1. Перебираємо масив починаючи з другого елемента.
2. Зберігаємо поточний елемент у змінній `currentElement`.
3. Встановлюємо змінну `j` на одиницю меншою за індекс поточного елемента.
4. Порівнюємо поточний елемент з елементами у відсортованій частині масиву, зсуваючись справа — наліво.
5. Якщо знайдено елемент менший за `currentElement`, зсуваємо його вправо.
6. Повторюємо крок 5 до тих пір, поки знаходимо елемент більший або дорівнює `currentElement` або досягаємо початку масиву.
7. Вставляємо `currentElement` після елемента, з яким порівняння було зупинено.
8. Повторюємо кроки 2-7 для наступного елемента масиву.
9. Продовжуємо цей процес до тих пір, поки весь масив не буде відсортований.

## Складність алгоритму

Складність алгоритму за часом — `O(n^2)`
Складність алгоритму за пам'яттю — `O(1)`

**Приклад 1**

```js
/**
 * Вхід:         [3, 10, 1, 4];
 *   
 * 1 ітерація:   [3, 10, 1, 4]    3 > 10 ? no
 *   
 * 2 ітерація:   [3, 10, 1, 4]    10 > 1 ? yes
 *               [3, 10, 10, 4]   3 > 1 ? yes
 *               [3, 3, 10, 4]    j > 0 ? no
 *               [1, 3, 10, 4]

 * 3 ітерація:   [1, 3, 10, 4]    10 > 4 ? yes
 *               [1, 3, 10, 10]   3 > 4 ? no
 *               [1, 3, 4, 10]
 */
const insertionSort = (array) => {
    for (let i = 1; i < array.length; i++) {
        const currentElement = array[i];
        let j = i;

        // Знаходимо позицію для вставки поточного елемента
        while (j > 0 && array[j - 1] > currentElement) {
            // Обмін елементів
            array[j] = array[j - 1];
            j -= 1;
        }

        array[j] = currentElement;
    }

    return array;
};

const array = [1, 3, 10, 4];
console.log(insertionSort(array));
```

**Приклад 2**

```js
/**
 * Вхід:       [3, 10, 1, 4];
 *
 * 1 ітерація: [3, 10, 1, 4]   3 > 10 ? no
 *
 * 2 ітерація: [3, 10, 1, 4]   10 > 1 ? yes
 *             [3, 1, 10, 4]   3 > 1 ? yes
 *             [1, 3, 10, 4]   j > 0 no
 *
 * 3 ітерація: [1, 3, 10, 4]   10 > 4 ? yes
 *             [1, 3, 4, 10]   3 > 4 no
 */
const insertionSort = (array) => {
    for (let i = 1; i < array.length; i++) {
        let j = i;
        while (j > 0 && array[j - 1] > array[j]) {
            [array[j], array[j - 1]] = [array[j - 1], array[j]];
            j -= 1;
        }
    }

    return array;
};

const array = [1, 3, 10, 4];
console.log(insertionSort(array));
```
